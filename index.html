<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LA VIE ENR HAIR AI - 헤어스타일 가상체험</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <span class="logo-icon">✨</span>
                <h1>LA VIE ENR HAIR AI</h1>
            </div>
            <p class="tagline">AI가 만드는 당신만의 특별한 헤어스타일</p>
            <button class="settings-btn" id="settingsBtn" aria-label="설정">
                <i data-lucide="settings"></i>
            </button>
        </div>
    </header>

    <main class="main-container">
        <!-- Transform Section -->
        <section class="transform-section">
            <h2 class="section-title">
                <i data-lucide="sparkles"></i>
                스타일 변환
            </h2>
            
            <div class="transform-cards">
                <!-- My Photo Card -->
                <div class="transform-card">
                    <div class="card-header">
                        <i data-lucide="user"></i>
                        <span>내 사진</span>
                    </div>
                    <div class="card-content upload-area" id="myPhotoArea">
                        <div class="upload-placeholder" id="myPhotoPlaceholder">
                            <i data-lucide="camera"></i>
                            <p>클릭하여 사진 업로드</p>
                            <span class="upload-hint">JPG, PNG (최대 10MB)</span>
                        </div>
                        <img id="myPhotoPreview" class="preview-image hidden" alt="내 사진">
                        <button class="remove-btn hidden" id="removeMyPhoto">
                            <i data-lucide="x"></i>
                        </button>
                    </div>
                    <input type="file" id="myPhotoInput" accept="image/*" hidden>
                </div>

                <!-- Transform Button -->
                <div class="transform-action">
                    <button class="transform-btn" id="transformBtn" disabled>
                        <i data-lucide="wand-2"></i>
                        <span>AI 변환</span>
                    </button>
                    <p class="transform-hint">양쪽 사진을 선택해주세요</p>
                </div>

                <!-- Selected Style Card -->
                <div class="transform-card">
                    <div class="card-header">
                        <i data-lucide="scissors"></i>
                        <span>선택한 스타일</span>
                    </div>
                    <div class="card-content" id="selectedStyleArea">
                        <div class="upload-placeholder" id="selectedStylePlaceholder">
                            <i data-lucide="image"></i>
                            <p>아래에서 스타일을 선택하세요</p>
                        </div>
                        <img id="selectedStylePreview" class="preview-image hidden" alt="선택한 스타일">
                        <span class="style-name hidden" id="selectedStyleName"></span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stylebook Section -->
        <section class="stylebook-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i data-lucide="book-open"></i>
                    스타일북
                </h2>
            </div>

            <!-- Gender Tabs -->
            <div class="gender-tabs" id="genderTabs">
                <!-- Dynamically generated -->
            </div>

            <!-- Category Tabs -->
            <div class="category-tabs" id="categoryTabs">
                <!-- Dynamically generated -->
            </div>

            <!-- Style Grid -->
            <div class="style-grid" id="styleGrid">
                <!-- Dynamically generated -->
            </div>

            <!-- Empty State -->
            <div class="empty-state hidden" id="emptyState">
                <i data-lucide="image-off"></i>
                <p>등록된 스타일이 없습니다</p>
                <span>설정에서 스타일을 추가해주세요</span>
            </div>
        </section>

        <!-- Result Section -->
        <section class="result-section hidden" id="resultSection">
            <h2 class="section-title">
                <i data-lucide="image"></i>
                변환 결과
            </h2>
            
            <div class="result-container">
                <div class="comparison-slider" id="comparisonSlider">
                    <div class="comparison-image before">
                        <img id="beforeImage" alt="Before">
                        <span class="comparison-label">BEFORE</span>
                    </div>
                    <div class="comparison-image after">
                        <img id="afterImage" alt="After">
                        <span class="comparison-label">AFTER</span>
                    </div>
                    <div class="slider-handle" id="sliderHandle">
                        <div class="slider-line"></div>
                        <div class="slider-circle">
                            <i data-lucide="move-horizontal"></i>
                        </div>
                        <div class="slider-line"></div>
                    </div>
                </div>
            </div>

            <div class="result-actions">
                <button class="action-btn" id="downloadBtn">
                    <i data-lucide="download"></i>
                    <span>다운로드</span>
                </button>
                <button class="action-btn" id="shareBtn">
                    <i data-lucide="share-2"></i>
                    <span>공유</span>
                </button>
                <button class="action-btn secondary" id="retryBtn">
                    <i data-lucide="refresh-cw"></i>
                    <span>다시하기</span>
                </button>
            </div>
        </section>
    </main>

    <!-- Loading Overlay -->
    <div class="loading-overlay hidden" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <i data-lucide="sparkles" class="spinner-icon"></i>
            </div>
            <h3>AI가 스타일을 변환하고 있습니다</h3>
            <p>잠시만 기다려주세요...</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <span class="progress-text" id="progressText">0%</span>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay hidden" id="settingsModal">
        <div class="modal">
            <div class="modal-header">
                <h2>
                    <i data-lucide="settings"></i>
                    스타일북 관리
                </h2>
                <button class="close-btn" id="closeSettings">
                    <i data-lucide="x"></i>
                </button>
            </div>

            <div class="modal-body">
                <!-- Gender Management -->
                <div class="settings-section">
                    <h3>
                        <i data-lucide="users"></i>
                        성별 관리
                    </h3>
                    <div class="tag-list" id="genderList">
                        <!-- Dynamically generated -->
                    </div>
                    <div class="add-form">
                        <input type="text" id="newGenderInput" placeholder="새 성별 입력" maxlength="20">
                        <button class="add-btn" id="addGenderBtn">
                            <i data-lucide="plus"></i>
                            추가
                        </button>
                    </div>
                </div>

                <!-- Category Management -->
                <div class="settings-section">
                    <h3>
                        <i data-lucide="folder"></i>
                        카테고리 관리
                    </h3>
                    <div class="select-group">
                        <label>성별 선택:</label>
                        <select id="categoryGenderSelect">
                            <!-- Dynamically generated -->
                        </select>
                    </div>
                    <div class="tag-list" id="categoryList">
                        <!-- Dynamically generated -->
                    </div>
                    <div class="add-form">
                        <input type="text" id="newCategoryInput" placeholder="새 카테고리 입력" maxlength="20">
                        <button class="add-btn" id="addCategoryBtn">
                            <i data-lucide="plus"></i>
                            추가
                        </button>
                    </div>
                </div>

                <!-- Style Management -->
                <div class="settings-section">
                    <h3>
                        <i data-lucide="images"></i>
                        스타일 사진 관리
                    </h3>
                    <div class="select-group">
                        <label>성별:</label>
                        <select id="styleGenderSelect">
                            <!-- Dynamically generated -->
                        </select>
                    </div>
                    <div class="select-group">
                        <label>카테고리:</label>
                        <select id="styleCategorySelect">
                            <!-- Dynamically generated -->
                        </select>
                    </div>
                    <div class="style-upload-area" id="styleUploadArea">
                        <i data-lucide="upload"></i>
                        <p>클릭하여 스타일 사진 업로드</p>
                        <span>여러 장 선택 가능</span>
                    </div>
                    <input type="file" id="styleUploadInput" accept="image/*" multiple hidden>
                    <div class="style-preview-grid" id="stylePreviewGrid">
                        <!-- Dynamically generated -->
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="save-btn" id="saveSettingsBtn">
                    <i data-lucide="save"></i>
                    저장하기
                </button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast hidden" id="toast">
        <i data-lucide="check-circle"></i>
        <span id="toastMessage">저장되었습니다</span>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
</body>
</html>
